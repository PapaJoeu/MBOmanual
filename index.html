<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>the mbo folding manual: digitized</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

    <style>
        /* Reset styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        /* Body styles */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5f7fa;
            color: #333;
            -webkit-touch-callout: none; /* Disable callout, image save panel (iOS) */
            -webkit-text-size-adjust: none; /* Prevent font scaling in landscape */
        }

        /* Container */
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            text-align: center;
            margin-bottom: 30px;
        }

        header h1 {
            font-size: 28px;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 10px;
        }

        /* Form styles */
        .calculator label {
            font-size: 18px;
            font-weight: 500;
            color: #444;
            margin-bottom: 8px;
            display: block;
        }

        .calculator select,
        .calculator input[type="number"] {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            margin-bottom: 20px;
            border: 2px solid #ccc;
            border-radius: 10px;
            background-color: #fff;
        }

        .calculator button {
            width: 100%;
            padding: 18px;
            font-size: 20px;
            font-weight: 600;
            color: #fff;
            background-color: #007bff;
            border: none;
            border-radius: 12px;
            margin-top: 10px;
            cursor: pointer;
        }

        .calculator button:active {
            background-color: #0056b3;
        }

        /* Results */
        .results {
            margin-top: 30px;
        }

        .results h2 {
            font-size: 24px;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 20px;
            text-align: center;
        }

        .result-section {
            margin-bottom: 30px;
        }

        .result-section h3 {
            font-size: 20px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
        }

        .result-table {
            width: 100%;
            border-collapse: collapse;
        }

        .result-table th,
        .result-table td {
            font-size: 18px;
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .result-table th {
            background-color: #f0f0f0;
            font-weight: 600;
        }

        /* Accessibility */
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #121212;
                color: #fff;
            }

            .calculator label,
            .results h2,
            .result-section h3 {
                color: #fff;
            }

            .calculator select,
            .calculator input[type="number"] {
                background-color: #1e1e1e;
                color: #fff;
                border: 2px solid #555;
            }

            .calculator button {
                background-color: #1a73e8;
            }

            .result-table th,
            .result-table td {
                border-bottom: 1px solid #444;
            }

            .result-table th {
                background-color: #1e1e1e;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>the mbo folding manual: digitized</h1>
        </header>

        <div class="calculator">
            <label for="foldType">Select Fold Type:</label>
            <select id="foldType">
                <option value="bifold">Bifold (Parallel Fold, 4 Pages)</option>
                <option value="trifold">Trifold (Accordion Fold, 6 Pages)</option>
                <option value="zfold">Z-Fold (Parallel Fold, 6 Pages)</option>
            </select>

            <label for="sheetLength">Sheet Length:</label>
            <input type="number" id="sheetLength" placeholder="Enter sheet length">

            <label for="unit">Unit:</label>
            <select id="unit">
                <option value="inches">Inches</option>
                <option value="mm">Millimeters</option>
            </select>

            <button onclick="calculateSettings()">Calculate Settings</button>
        </div>

        <div class="results" id="results" style="display: none;">
            <h2>Calculated Settings</h2>

            <div class="result-section">
                <h3>Caliper Settings:</h3>
                <table class="result-table" id="caliperSettingsTable">
                    <!-- Caliper settings will be inserted here -->
                </table>
            </div>

            <div class="result-section">
                <h3>Sheet Stop Positions:</h3>
                <table class="result-table" id="sheetStopsTable">
                    <!-- Sheet stop positions will be inserted here -->
                </table>
            </div>

            <div class="result-section">
                <h3>Estimated Gap Settings:</h3>
                <table class="result-table">
                    <tr>
                        <th>Setting</th>
                        <th>Value</th>
                    </tr>
                    <tr>
                        <td>Set 1</td>
                        <td id="gapSet1"></td>
                    </tr>
                    <tr>
                        <td>Set 2</td>
                        <td id="gapSet2"></td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Gap settings table data
        const gapSettingsTable = [
            { sheetLength: 6, set1: 20, set2: 10 },
            { sheetLength: 8, set1: 25, set2: 12 },
            { sheetLength:10, set1: 30, set2:15 },
            { sheetLength:12, set1:35, set2:18 },
            { sheetLength:14, set1:40, set2:20 },
            { sheetLength:16, set1:45, set2:24 },
            { sheetLength:18, set1:50, set2:27 },
            { sheetLength:20, set1:55, set2:30 },
            { sheetLength:22, set1:60, set2:30 },
            { sheetLength:24, set1:65, set2:30 },
            { sheetLength:26, set1:70, set2:30 },
            { sheetLength:28, set1:75, set2:30 },
            { sheetLength:30, set1:80, set2:30 },
            { sheetLength:32, set1:87, set2:33 },
            { sheetLength:34, set1:92, set2:33 },
            { sheetLength:36, set1:98, set2:33 },
            { sheetLength:38, set1:104,set2:33 },
            { sheetLength:40, set1:110,set2:35 },
            { sheetLength:42, set1:115,set2:35 },
            { sheetLength:44, set1:120,set2:35 },
            { sheetLength:46, set1:125,set2:35 },
            { sheetLength:48, set1:130,set2:35 },
            { sheetLength:50, set1:135,set2:35 },
            { sheetLength:52, set1:140,set2:35 }
        ];

        function calculateSettings() {
            const foldType = document.getElementById('foldType').value;
            let sheetLength = parseFloat(document.getElementById('sheetLength').value);
            const unit = document.getElementById('unit').value;

            if (isNaN(sheetLength) || sheetLength <= 0) {
                alert('Please enter a valid sheet length.');
                return;
            }

            // Convert mm to inches if necessary
            if (unit === 'mm') {
                sheetLength /= 25.4;
            }

            // Calculate Gap Settings using interpolation
            const gapSetting = interpolateGapSettings(sheetLength);

            // Prepare results
            let caliperSettings = [];
            let sheetStops = [];

            if (foldType === 'bifold') {
                caliperSettings = [
                    { caliper: 'Caliper 1', setting: 'Insert one (1) thickness of paper.' },
                    { caliper: 'Caliper 2', setting: 'Insert two (2) thicknesses of paper.' },
                    { caliper: 'Caliper 3', setting: 'Insert two (2) thicknesses of paper.' },
                    { caliper: 'Caliper 4', setting: 'Insert two (2) thicknesses of paper.' },
                    { caliper: 'Caliper 5', setting: 'Insert two (2) thicknesses of
